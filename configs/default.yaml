# Jivascope Training Configuration
# Heart Sound Classification Model

# Training hyperparameters
training:
  batch_size: 16
  num_epochs: 50
  learning_rate: 0.0001
  weight_decay: 0.00001
  early_stopping_patience: 10
  warmup_epochs: 5
  label_smoothing: 0.1
  murmur_loss_weight: 0.4
  outcome_loss_weight: 0.6

# Optimizer configuration
optimizer:
  name: AdamW
  betas: [0.9, 0.999]
  eps: 0.00000001

# Learning rate scheduler
scheduler:
  name: CosineAnnealingLR
  T_max: 45  # num_epochs - warmup_epochs
  eta_min: 0.000001

# Model architecture
model:
  backbone: efficientnet_b0
  pretrained: true
  hidden_dim: 512
  num_murmur_classes: 2
  num_outcome_classes: 2
  dropout: 0.3

# Loss function
loss:
  focal_gamma: 2.0
  label_smoothing: 0.1
  use_class_weights: true

# Audio processing
audio:
  sample_rate: 4000
  target_duration: 10.0  # seconds
  apply_filter: true
  filter_low_freq: 25.0
  filter_high_freq: 400.0

# Spectrogram settings
spectrogram:
  n_mels: 128
  n_fft: 256
  hop_length: 64
  target_height: 128
  target_width: 313

# Data augmentation
augmentation:
  time_shift_prob: 0.5
  time_shift_max: 0.1
  noise_prob: 0.4
  noise_snr_range: [25, 40]
  time_stretch_prob: 0.2
  time_stretch_range: [0.95, 1.05]
  volume_prob: 0.3
  volume_range: [0.85, 1.15]
  spec_freq_mask_prob: 0.5
  spec_time_mask_prob: 0.5

# Data settings
data:
  recording_locations: ['AV', 'MV', 'PV', 'TV', 'Phc']
  num_workers: 0

# General settings
seed: 42
device: cuda  # or 'cpu'
